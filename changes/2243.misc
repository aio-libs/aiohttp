Refactor processing of URL credentials.
