Uses `ThreadedChildWatcher` under POSIX to allow setting up test loop in non-main thread.
